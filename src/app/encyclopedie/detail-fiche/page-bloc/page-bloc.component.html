<div class="bloc" *ngIf="bloc">
    
    <h4 *ngIf="!isUpdatemode">
        {{bloc.title}}
        <span class="more" (click)="onClickMore(bloc,  $event)">
            ...
            <app-float-menu *ngIf="showMoreMenu" (toHide)="onHideMenu()" (onClick)="onClickMenu( $event, bloc )" [values]="MENU_MORE_BLOC"></app-float-menu>
        </span>
    </h4>
    <div  *ngIf="!isUpdatemode" class="textContainer" #textContainer ></div>



    <form *ngIf="isUpdatemode" #updateBlocForm="ngForm" (ngSubmit)="onSubmitUpdateBloc( bloc )" class="formUpdateBloc" >
        <nav>
            <input type="text" required name="newTitle" ngModel [(ngModel)]="newTitle" placeholder="Titre" autocomplete="off"/>
            <div class="btInfo" title="Infos Markdown" (click)="onClickinfoMarkdown( $event )">
            </div>
            <div class="popupInfoMarkdownContainer">
                <div class="popupInfoMarkdown" *ngIf="showPopupInfoMarkdown" (click)="closePopupInfoMarkdown()">
                    <p *ngFor="let texte of INFOS_MARKDOWN">{{texte}}</p>
                </div> 
            </div>
        </nav>
        
        <textarea id="desc_{{bloc.id}}" name="newDesc" ngModel [(ngModel)]="newDesc" #textArea placeholder="Description" spellcheck="true" (keyup)="onTextChange( $event )" (focusout)="onFocusTextAreaLost()"></textarea>

        <ul class="popupAutoComplet" *ngIf="showAutoComplet">
            <li *ngFor="let page of this.projectService.getAllPages() | autocompletion:currentWord" (click)="onClickAutoCompletion( $event, page.id)">{{page.titre}}</li>
        </ul>

        <div class="form-group">
            <button type="submit" [disabled]="!updateBlocForm.form.valid">Valider</button>
            <button (click)="onClickCancel()">Annuler</button>
        </div>
    </form>

</div>